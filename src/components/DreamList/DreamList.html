<div class="dream-list-wrapper">
  <!-- Offline warning -->
  <div v-if="showOfflineWarning" class="offline-warning">
    <i class="fas fa-wifi-slash"></i>
    You are offline. Changes will be saved when you reconnect.
  </div>

  <!-- Main list container -->
  <div ref="containerRef" :style="containerStyle" class="dream-list-container">
    <div v-if="!isLoading" :style="wrapperStyle">
      <div
        v-for="dream in visibleDreams"
        :key="dream._id"
        :style="{ height: `${ITEM_HEIGHT}px` }"
        class="dream-list-item"
      >
        <DreamCard
          :dream="dream"
          :class="{ 'highlight-dream': dream._id === highlightedDreamId }"
          @click="viewDream(dream)"
        />
      </div>

      <!-- Loading more indicator -->
      <div v-if="isLoadingMore" class="loading-more">
        <div class="loading-spinner"></div>
        <p>Loading more dreams...</p>
      </div>

      <!-- No more dreams indicator -->
      <div v-if="!hasMore && dreams.length > 0" class="no-more-dreams">
        <p>No more dreams to load</p>
      </div>

      <!-- Initial loading state -->
      <div v-else class="loading-container">
        <div class="loading-spinner"></div>
        <p>Loading dreams...</p>
      </div>
    </div>
  </div>
</div>
